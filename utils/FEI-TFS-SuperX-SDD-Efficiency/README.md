# SuperX-SDD-Efficiency

The `custom.csv` file approximately models the detector efficiency (window transmission + SDD thickness) of the common SuperX detector (G1) from FEI/TFS TEMs.

The `SuperX-SDD.xdet` file can be imported in the DTSA-II detector configuration dialog to roughly model the SuperX detector. The geometrical collection angle reported in DTSA is 0.83 srad for the detector area of 130 mm² (4x30 mm²) for the given sample-detector and working distance. The latter were not verfied. For better match of simulations and experiment on an absolute scale you can adjust these values (requires measuring a sample with known beam current). The elevation angle of 22° is taken from Esprit. Note that we set a faux, large 10 mm Si detector thickness (instead of the actual 0.45 mm) as to model the detector efficiency in combination with `custom.csv` file more accurately (see below).

## How to use it
There is a [guide](https://probesoftware.com/smf/index.php?topic=1225.msg9676#msg9676) by Nicholas Ritchie how to install the custom detector window. The `custom.csv` file in this repository is build from the detector efficiency curve extracted from the publication by [Schlossmacher et al.](https://www.researchgate.net/publication/281539024_Nanoscale_chemical_compositional_analysis_with_an_innovative_STEM-EDX_system) (Fig. 4b).\
Note that (i) the data was extracted from a pixelated figure from the publication, (ii) a simple interpolation was used to build the curve, and (iii) the `custom.csv` "window" is actually the detector window + all other effects that affect the efficiency (such as possible transmission of high-energy x-rays through the 450 µm thick Si detector chip), whereas DTSA-II expects only the window transmission. Regarding (iii), we set the detector's Si thickness in DTSA-II to 10 mm instead of the typical 0.45 mm for SDDs. In this way, the drop-off of detector efficiency after around 10 keV is modeled more correctly. If we instead would use 0.45 mm, DTSA-II will apply an additional dampening of the curve after around 10 keV which we included into the `custom.csv` already.

![grafik](https://github.com/user-attachments/assets/8cd04244-3dad-41c2-b978-74cf790c4700)
